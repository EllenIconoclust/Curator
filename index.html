<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Peaceful Mind</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      font-family: 'Quicksand', sans-serif;
      box-sizing: border-box;
    }

    body {
      transition: background 1s, color 1s;
      background: linear-gradient(135deg, #e0f8e9, #ffffff);
      color: #222;
      padding: 2rem;
      line-height: 1.6;
    }

    body.dark {
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
      color: #f1f1f1;
    }

    .toggle-wrapper {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 999;
    }

    .toggle-btn {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: #d1b74c;
      border: none;
      cursor: pointer;
      position: relative;
      transition: background 0.4s;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .toggle-btn.dark {
      background: #3b6fa3;
    }

    .toggle-icon {
      width: 14px;
      height: 14px;
      border-radius: 50%;
      background: white;
      box-shadow: 0 0 3px rgba(0,0,0,0.2);
    }

    h1 {
      margin-bottom: 1.5rem;
      font-size: 2rem;
    }

    .section {
      margin-bottom: 4rem;
    }

    .activity {
      background: rgba(255,255,255,0.2);
      padding: 1rem;
      border-radius: 12px;
      margin-top: 0.5rem;
      cursor: pointer;
    }

    .activity:hover {
      background: rgba(255,255,255,0.1);
    }

    .activity-details {
      display: none;
      margin-top: 0.5rem;
      font-size: 0.95rem;
      opacity: 0.9;
    }

    .calendar {
      margin-top: 1rem;
    }

    table {
      border-collapse: collapse;
      width: 100%;
    }

    th, td {
      padding: 0.6rem;
      text-align: center;
      border: 1px solid #ccc;
    }

    td.today {
      background: #a0f3ba;
      font-weight: bold;
    }

    input[type="text"], textarea {
      padding: 0.5rem;
      width: 80%;
      margin-top: 0.5rem;
      border: 1px solid #aaa;
      border-radius: 6px;
    }

    button.save, button.spin, button.submit-problem {
      margin-top: 0.5rem;
      padding: 0.4rem 1rem;
      background: #7acaa3;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    .spinner {
      width: 100px;
      height: 100px;
      border: 10px solid #ccc;
      border-top: 10px solid #4CAF50;
      border-radius: 50%;
      animation: none;
      margin: 1rem auto;
    }

    @keyframes spin {
      100% { transform: rotate(360deg); }
    }

    .mood-options span {
      font-size: 1.5rem;
      cursor: pointer;
      margin-right: 0.5rem;
    }

    .did-you-know {
      padding: 1rem;
      background: #d2f3e6;
      border-left: 5px solid #49a379;
      margin-top: 4rem;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <div class="toggle-wrapper">
    <button class="toggle-btn" onclick="toggleDarkMode()">
      <div class="toggle-icon"></div>
    </button>
  </div>

  <h1>MindEase</h1>

  <div class="section">
    <h2>üçÉ Peace Activities</h2>
    <div class="activity" onclick="toggleDetails(this)">
      Deep Breathing
      <div class="activity-details">Breathe in for 4 seconds, hold for 4, and breathe out for 4. Repeat 5 times.</div>
    </div>
    <div class="activity" onclick="toggleDetails(this)">
      Journaling
      <div class="activity-details">Write down your thoughts without filtering them. Let your emotions flow out safely.</div>
    </div>
    <div class="activity" onclick="toggleDetails(this)">
      Body Scan Meditation
      <div class="activity-details">Focus on each part of your body from head to toe, noticing tension and relaxing it.</div>
    </div>
    <div class="activity" onclick="toggleDetails(this)">
      Gratitude Exercise
      <div class="activity-details">List 3 things you're grateful for today and reflect on why they matter to you.</div>
    </div>
  </div>

  <div class="section">
    <h2>üìÖ Wellness Calendar</h2>
    <table id="calendar"></table>
    <input type="text" id="note" placeholder="Add note for today">
    <button class="save" onclick="saveNote()">Save</button>
    <p id="saved-note"></p>
  </div>

  <div class="section">
    <h2>üìä Mood Tracker</h2>
    <div class="mood-options">
      <span onclick="saveMood('üòä')">üòä</span>
      <span onclick="saveMood('üòê')">üòê</span>
      <span onclick="saveMood('üò¢')">üò¢</span>
      <span onclick="saveMood('üò°')">üò°</span>
    </div>
    <p id="mood-message"></p>
  </div>

  <div class="section">
    <h2>üåÄ Fidget Corner</h2>
    <div class="spinner" id="spinner"></div>
    <button class="spin" onclick="spin()">Spin</button>
  </div>

  <div class="section">
    <h2>üí¨ Share Your Problem</h2>
    <textarea id="problem" rows="4" placeholder="Type what's on your mind..."></textarea><br>
    <button class="submit-problem" onclick="respondToProblem()">Submit</button>
    <p id="response-message"></p>
  </div>

  <div class="did-you-know" id="fact-box">
    üåü Did you know? Taking just 5 minutes to breathe deeply can reduce stress significantly.
  </div>

  <script>
    function toggleDarkMode() {
      document.body.classList.toggle("dark");
      document.querySelector(".toggle-btn").classList.toggle("dark");
    }

    function toggleDetails(el) {
      const detail = el.querySelector(".activity-details");
      detail.style.display = detail.style.display === 'block' ? 'none' : 'block';
    }

    function buildCalendar() {
      const today = new Date();
      const year = today.getFullYear();
      const month = today.getMonth();
      const day = today.getDate();
      const daysInMonth = new Date(year, month + 1, 0).getDate();
      const firstDay = new Date(year, month, 1).getDay();
      const calendar = document.getElementById("calendar");
      const weekdays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];

      let html = "<tr>" + weekdays.map(d => `<th>${d}</th>`).join('') + "</tr><tr>";
      for (let i = 0; i < firstDay; i++) html += "<td></td>";
      for (let d = 1; d <= daysInMonth; d++) {
        const isToday = d === day ? 'today' : '';
        html += `<td class="${isToday}">${d}</td>`;
        if ((firstDay + d) % 7 === 0) html += "</tr><tr>";
      }
      html += "</tr>";
      calendar.innerHTML = html;
    }

    function saveNote() {
      const note = document.getElementById("note").value;
      const saved = document.getElementById("saved-note");
      if (note) {
        saved.textContent = "Saved for today: " + note;
        localStorage.setItem("note-" + new Date().toDateString(), note);
      }
    }

    function saveMood(mood) {
      document.getElementById("mood-message").textContent = "You logged your mood as: " + mood;
      localStorage.setItem("mood-" + new Date().toDateString(), mood);
    }

    function spin() {
      const spinner = document.getElementById("spinner");
      spinner.style.animation = "spin 2s ease-out";
      setTimeout(() => spinner.style.animation = "", 2000);
    }

    function respondToProblem() {
      const input = document.getElementById("problem").value;
      const msg = document.getElementById("response-message");
      if (input.trim() !== "") {
        msg.textContent = "Thank you for sharing. Healing is a process, and every step you take matters. No matter what you're facing, know that you are not alone, and there is light even in the darkest moments. Keep going, you're doing better than you think.";
      } else {
        msg.textContent = "";
      }
    }

    const facts = [
      "Smiling can improve your mood, even if you're faking it!",
      "Sleep is deeply connected to mental health‚Äîaim for 7-9 hours.",
      "A 10-minute walk can boost your mental clarity.",
      "Journaling regularly can reduce anxiety.",
      "Being kind to others boosts your own serotonin."
    ];

    setInterval(() => {
      const box = document.getElementById("fact-box");
      const randomFact = facts[Math.floor(Math.random() * facts.length)];
      box.textContent = "üåü Did you know? " + randomFact;
    }, 10000);

    window.onload = function() {
      buildCalendar();
      const saved = localStorage.getItem("note-" + new Date().toDateString());
      if (saved) document.getElementById("saved-note").textContent = "Saved for today: " + saved;
      const mood = localStorage.getItem("mood-" + new Date().toDateString());
      if (mood) document.getElementById("mood-message").textContent = "You logged your mood as: " + mood;
    };
  </script>
</body>
</html>
